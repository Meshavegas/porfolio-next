import{at as On,au as Rn,av as Mn,aw as Tn,r as u,as as Yt,ax as et,ay as tt,az as ue,u as ae,aA as $t,s as U,w as A,aB as kn,a as s,P as we,J as Ce,aC as ge,a2 as Ue,aD as nt,aE as H,aF as jn,j as w,aG as Nn,aH as Gt,aI as ce,C as Q,T as k,ah as An,ai as De,n as Ve,aJ as Ln,y as pe,aq as Kt,F as L,B as R,e as Y,E as qt,aK as Ye,aL as Fn,aM as zn,aN as Bn,aO as Wn,aP as Oe,g as ot,c as rt,A as Hn,aQ as Un,aR as Vn,aS as Yn,aT as ie,aU as $n,aV as Gn,aW as Kn,aX as he,W as qn,aY as at,aZ as oe,z as q,a_ as Xn,a$ as Re,b0 as Jn,i as Xt,m as Jt,b1 as Qn,b2 as Zn,D as eo,b3 as to,b4 as no,t as Qt,b5 as oo,b6 as ro,b7 as ht,b8 as Me,b9 as Zt,ba as ao,bb as en,h as io,bc as so,bd as $e,be as tn,bf as co,bg as lo,f as uo,bh as po,bi as ho,bj as nn,bk as fo,bl as mo,bm as go,N as X,x as on,$ as J,v as vo,U as rn,bn as bo,bo as yo,bp as an,bq as Ge,br as _o,bs as sn,bt as ft,bu as xo,bv as cn,bw as Po,bx as Eo,by as Io,bz as it,bA as So,bB as Ke,bC as wo,bD as Co,bE as Ae,bF as Do,bG as Oo,bH as Ro,bI as Mo,O as To,a0 as mt,bJ as st,bK as ko,bL as jo,bM as No,bN as Le,H as Ao,bO as gt,bP as qe,bQ as ln,V as Lo,bR as Fo,bS as zo,bT as ct,bU as Bo,bV as Wo,bW as Ho,bX as Uo,aj as Vo,bY as Yo,a3 as $o,bZ as Go,b_ as Ko,b$ as qo,G as Xo,c0 as Xe,c1 as Jo,c2 as Qo,c3 as Zo,c4 as er,b as tr,c5 as nr,c6 as or,c7 as Je,c8 as rr,c9 as ar,ca as ir,cb as vt,a6 as sr,a7 as cr,cc as dn,cd as un,ce as pn,cf as hn,cg as lr,ch as dr,ci as ur,cj as pr,ck as Fe}from"./sanity-2990d9bf.js";function fn(t,e){var n=typeof e=="object";return new Promise(function(r,o){var a=new On({next:function(i){r(i),a.unsubscribe()},error:o,complete:function(){n?r(e.defaultValue):o(new Rn)}});t.subscribe(a)})}function hr(){return Mn(function(t,e){var n,r=!1;t.subscribe(Tn(e,function(o){var a=n;n=o,r&&e.next([a,o]),r=!0}))})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var bt=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable;function gr(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function vr(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var br=vr()?Object.assign:function(t,e){for(var n,r=gr(t),o,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)fr.call(n,i)&&(r[i]=n[i]);if(bt){o=bt(n);for(var l=0;l<o.length;l++)mr.call(n,o[l])&&(r[o[l]]=n[o[l]])}}return r},ve=br,yr={};function G(t,e,n,r,o,a,i,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,o,a,i,l],f=0;c=new Error(e.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var yt="mixins";function _r(t,e,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},i={displayName:function(m,p){m.displayName=p},mixins:function(m,p){if(p)for(var v=0;v<p.length;v++)c(m,p[v])},childContextTypes:function(m,p){m.childContextTypes=ve({},m.childContextTypes,p)},contextTypes:function(m,p){m.contextTypes=ve({},m.contextTypes,p)},getDefaultProps:function(m,p){m.getDefaultProps?m.getDefaultProps=h(m.getDefaultProps,p):m.getDefaultProps=p},propTypes:function(m,p){m.propTypes=ve({},m.propTypes,p)},statics:function(m,p){d(m,p)},autobind:function(){}};function l(m,p){var v=o.hasOwnProperty(p)?o[p]:null;b.hasOwnProperty(p)&&G(v==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",p),m&&G(v==="DEFINE_MANY"||v==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",p)}function c(m,p){if(p){G(typeof p!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),G(!e(p),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var v=m.prototype,D=v.__reactAutoBindPairs;p.hasOwnProperty(yt)&&i.mixins(m,p.mixins);for(var P in p)if(p.hasOwnProperty(P)&&P!==yt){var S=p[P],O=v.hasOwnProperty(P);if(l(O,P),i.hasOwnProperty(P))i[P](m,S);else{var j=o.hasOwnProperty(P),T=typeof S=="function",M=T&&!j&&!O&&p.autobind!==!1;if(M)D.push(P,S),v[P]=S;else if(O){var N=o[P];G(j&&(N==="DEFINE_MANY_MERGED"||N==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",N,P),N==="DEFINE_MANY_MERGED"?v[P]=h(v[P],S):N==="DEFINE_MANY"&&(v[P]=y(v[P],S))}else v[P]=S}}}}function d(m,p){if(p)for(var v in p){var D=p[v];if(p.hasOwnProperty(v)){var P=v in i;G(!P,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',v);var S=v in m;if(S){var O=a.hasOwnProperty(v)?a[v]:null;G(O==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",v),m[v]=h(m[v],D);return}m[v]=D}}}function f(m,p){G(m&&p&&typeof m=="object"&&typeof p=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var v in p)p.hasOwnProperty(v)&&(G(m[v]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",v),m[v]=p[v]);return m}function h(m,p){return function(){var D=m.apply(this,arguments),P=p.apply(this,arguments);if(D==null)return P;if(P==null)return D;var S={};return f(S,D),f(S,P),S}}function y(m,p){return function(){m.apply(this,arguments),p.apply(this,arguments)}}function x(m,p){var v=p.bind(m);return v}function _(m){for(var p=m.__reactAutoBindPairs,v=0;v<p.length;v+=2){var D=p[v],P=p[v+1];m[D]=x(m,P)}}var I={componentDidMount:function(){this.__isMounted=!0}},C={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(m,p){this.updater.enqueueReplaceState(this,m,p)},isMounted:function(){return!!this.__isMounted}},g=function(){};ve(g.prototype,t.prototype,b);function E(m){var p=function(D,P,S){this.__reactAutoBindPairs.length&&_(this),this.props=D,this.context=P,this.refs=yr,this.updater=S||n,this.state=null;var O=this.getInitialState?this.getInitialState():null;G(typeof O=="object"&&!Array.isArray(O),"%s.getInitialState(): must return an object or null",p.displayName||"ReactCompositeComponent"),this.state=O};p.prototype=new g,p.prototype.constructor=p,p.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,p)),c(p,I),c(p,m),c(p,C),p.getDefaultProps&&(p.defaultProps=p.getDefaultProps()),G(p.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var v in o)p.prototype[v]||(p.prototype[v]=null);return p}return E}var xr=_r,Ee=u,Pr=xr;if(typeof Ee>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Er=new Ee.Component().updater,Te=Pr(Ee.Component,Ee.isValidElement,Er),Ir=Date.now||Sr;function Sr(){return new Date().getTime()}var _t=Ir,wr=function(e,n,r){var o,a,i,l,c;n==null&&(n=100);function d(){var f=_t()-l;f<n&&f>0?o=setTimeout(d,n-f):(o=null,r||(c=e.apply(i,a),o||(i=a=null)))}return function(){i=this,a=arguments,l=_t();var h=r&&!o;return o||(o=setTimeout(d,n)),h&&(c=e.apply(i,a),i=a=null),c}},Cr=Dr;function Dr(t){for(var e=Or(t),n=1732584193,r=-271733879,o=-1732584194,a=271733878,i=0;i<e.length;i+=16){var l=n,c=r,d=o,f=a;n=F(n,r,o,a,e[i+0],7,-680876936),a=F(a,n,r,o,e[i+1],12,-389564586),o=F(o,a,n,r,e[i+2],17,606105819),r=F(r,o,a,n,e[i+3],22,-1044525330),n=F(n,r,o,a,e[i+4],7,-176418897),a=F(a,n,r,o,e[i+5],12,1200080426),o=F(o,a,n,r,e[i+6],17,-1473231341),r=F(r,o,a,n,e[i+7],22,-45705983),n=F(n,r,o,a,e[i+8],7,1770035416),a=F(a,n,r,o,e[i+9],12,-1958414417),o=F(o,a,n,r,e[i+10],17,-42063),r=F(r,o,a,n,e[i+11],22,-1990404162),n=F(n,r,o,a,e[i+12],7,1804603682),a=F(a,n,r,o,e[i+13],12,-40341101),o=F(o,a,n,r,e[i+14],17,-1502002290),r=F(r,o,a,n,e[i+15],22,1236535329),n=z(n,r,o,a,e[i+1],5,-165796510),a=z(a,n,r,o,e[i+6],9,-1069501632),o=z(o,a,n,r,e[i+11],14,643717713),r=z(r,o,a,n,e[i+0],20,-373897302),n=z(n,r,o,a,e[i+5],5,-701558691),a=z(a,n,r,o,e[i+10],9,38016083),o=z(o,a,n,r,e[i+15],14,-660478335),r=z(r,o,a,n,e[i+4],20,-405537848),n=z(n,r,o,a,e[i+9],5,568446438),a=z(a,n,r,o,e[i+14],9,-1019803690),o=z(o,a,n,r,e[i+3],14,-187363961),r=z(r,o,a,n,e[i+8],20,1163531501),n=z(n,r,o,a,e[i+13],5,-1444681467),a=z(a,n,r,o,e[i+2],9,-51403784),o=z(o,a,n,r,e[i+7],14,1735328473),r=z(r,o,a,n,e[i+12],20,-1926607734),n=B(n,r,o,a,e[i+5],4,-378558),a=B(a,n,r,o,e[i+8],11,-2022574463),o=B(o,a,n,r,e[i+11],16,1839030562),r=B(r,o,a,n,e[i+14],23,-35309556),n=B(n,r,o,a,e[i+1],4,-1530992060),a=B(a,n,r,o,e[i+4],11,1272893353),o=B(o,a,n,r,e[i+7],16,-155497632),r=B(r,o,a,n,e[i+10],23,-1094730640),n=B(n,r,o,a,e[i+13],4,681279174),a=B(a,n,r,o,e[i+0],11,-358537222),o=B(o,a,n,r,e[i+3],16,-722521979),r=B(r,o,a,n,e[i+6],23,76029189),n=B(n,r,o,a,e[i+9],4,-640364487),a=B(a,n,r,o,e[i+12],11,-421815835),o=B(o,a,n,r,e[i+15],16,530742520),r=B(r,o,a,n,e[i+2],23,-995338651),n=W(n,r,o,a,e[i+0],6,-198630844),a=W(a,n,r,o,e[i+7],10,1126891415),o=W(o,a,n,r,e[i+14],15,-1416354905),r=W(r,o,a,n,e[i+5],21,-57434055),n=W(n,r,o,a,e[i+12],6,1700485571),a=W(a,n,r,o,e[i+3],10,-1894986606),o=W(o,a,n,r,e[i+10],15,-1051523),r=W(r,o,a,n,e[i+1],21,-2054922799),n=W(n,r,o,a,e[i+8],6,1873313359),a=W(a,n,r,o,e[i+15],10,-30611744),o=W(o,a,n,r,e[i+6],15,-1560198380),r=W(r,o,a,n,e[i+13],21,1309151649),n=W(n,r,o,a,e[i+4],6,-145523070),a=W(a,n,r,o,e[i+11],10,-1120210379),o=W(o,a,n,r,e[i+2],15,718787259),r=W(r,o,a,n,e[i+9],21,-343485551),n=K(n,l),r=K(r,c),o=K(o,d),a=K(a,f)}return be(n)+be(r)+be(o)+be(a)}var xt="0123456789abcdef";function lt(t,e){var n=t&1|e&1,r=t>>>1|e>>>1;return r<<1|n}function Qe(t,e){var n=t&1^e&1,r=t>>>1^e>>>1;return r<<1|n}function Ie(t,e){var n=t&1&(e&1),r=t>>>1&e>>>1;return r<<1|n}function K(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function be(t){var e="",n;for(n=0;n<=3;n++)e+=xt.charAt(t>>n*8+4&15)+xt.charAt(t>>n*8&15);return e}function Or(t){var e=(t.length+8>>6)+1,n=new Array(e*16),r;for(r=0;r<e*16;r++)n[r]=0;for(r=0;r<t.length;r++)n[r>>2]|=t.charCodeAt(r)<<(t.length*8+r)%4*8;n[r>>2]|=128<<(t.length*8+r)%4*8;var o=t.length*8;return n[e*16-2]=o&255,n[e*16-2]|=(o>>>8&255)<<8,n[e*16-2]|=(o>>>16&255)<<16,n[e*16-2]|=(o>>>24&255)<<24,n}function Rr(t,e){return t<<e|t>>>32-e}function ke(t,e,n,r,o,a){return K(Rr(K(K(e,t),K(r,a)),o),n)}function F(t,e,n,r,o,a,i){return ke(lt(Ie(e,n),Ie(~e,r)),t,e,o,a,i)}function z(t,e,n,r,o,a,i){return ke(lt(Ie(e,r),Ie(n,~r)),t,e,o,a,i)}function B(t,e,n,r,o,a,i){return ke(Qe(Qe(e,n),r),t,e,o,a,i)}function W(t,e,n,r,o,a,i){return ke(Qe(n,lt(e,~r)),t,e,o,a,i)}var Mr=Math.ceil(Math.random()*10),Tr=function(){return++Mr},dt=function(t){return Object.prototype.toString.call(t).slice(8,-1)},kr=dt;function jr(t){var e=kr(t);return e!=="Object"&&e!=="Array"}var mn=jr,Nr=u,Ar=Te,ye=Nr.createElement,Lr=Ar({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(t){return t.highlight!==this.props.highlight},render:function(){var t=this.props,e=t.string.search(t.highlight);if(!t.highlight||e===-1)return ye("span",null,t.string);var n=t.highlight.source.length,r=t.string.substr(e,n);return ye("span",null,t.string.split(t.highlight).map(function(o,a){return ye("span",{key:a},a>0?ye("span",{className:"json-inspector__hl"},r):null,o)}))}}),Fr=u,zr=Te,Br=Cr,Wr=Tr,gn=dt,_e=mn,Hr=Lr,$=Fr.createElement,Ur=".root.",vn=zr({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var t="id_"+Wr(),e=this.props,n={path:this.keypath(),key:e.label.toString(),value:e.data},r=this._onClick.bind(this,n);return $("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},$("input",{className:"json-inspector__radio",type:"radio",name:e.id,id:t,tabIndex:-1}),$("label",{className:"json-inspector__line",htmlFor:t,onClick:r},$("div",{className:"json-inspector__flatpath"},n.path),$("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var t=this.data(),e=gn(t);switch(e){case"Array":var n=t.length;return $("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+Vr(n));case"Object":var r=Object.keys(t).length;return $("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+Yr(r));default:return $("span",{className:"json-inspector__value json-inspector__value_"+e.toLowerCase()},this.format(String(t)),this.renderInteractiveLabel(t,!1))}},renderChildren:function(){var t=this.props,e=this._rootPath(),n=this.data();return this.state.expanded&&!_e(n)?Object.keys(n).map(function(r){var o=n[r],a=!this.state.original||(t.verboseShowOriginal?t.query:!1);return $(vn,{data:o,label:r,prefix:e,onClick:t.onClick,id:t.id,query:t.query,getOriginal:a?t.getOriginal:null,key:$r(r,o),isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var t=this.props;return _e(t.data)||this.state.original||!t.getOriginal||!t.query||ze(this.keypath(),t.query)?null:$("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(t,e){return typeof this.props.interactiveLabel=="function"?$(this.props.interactiveLabel,{value:String(t),originalValue:t,isKey:e,keypath:this.keypath()}):null},componentWillReceiveProps:function(t){t.query&&this.setState({expanded:!ze(t.label,t.query)}),this.props.query&&!t.query&&this.setState({expanded:this._isInitiallyExpanded(t)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(Ur.length)},data:function(){return this.state.original||this.props.data},format:function(t){return $(Hr,{string:t,highlight:this.props.query})},getClassName:function(){var t="json-inspector__leaf";return this.props.root&&(t+=" json-inspector__leaf_root"),this.state.expanded&&(t+=" json-inspector__leaf_expanded"),_e(this.props.data)||(t+=" json-inspector__leaf_composite"),t},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(t,e){this.toggle(),this.props.onClick(t),e.stopPropagation()},_onShowOriginalClick:function(t){this.setState({original:this.props.getOriginal(this.keypath())}),t.stopPropagation()},_isInitiallyExpanded:function(t){var e=this.keypath();return t.root?!0:t.query?!ze(e,t.query)&&typeof t.getOriginal=="function":t.isExpanded(e,t.data)}});function Vr(t){return t+(t===1?" item":" items")}function Yr(t){return t+(t===1?" property":" properties")}function $r(t,e){if(_e(e)){var n=Br(String(e));return t+":"+n}else return t+"["+gn(e)+"]"}function ze(t,e){return t.indexOf(e)!==-1}var Gr=vn,bn=function(){},Kr=u,qr=Te,Xr=Kr.createElement,Jr=bn,Qr=qr({getDefaultProps:function(){return{onChange:Jr}},render:function(){return Xr("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(t){this.props.onChange(t.target.value)}}),yn=function(t){return Object.keys(t).length===0},Zr=Object.keys,ea=mn,ta=yn,na=function(t,e){e||(e={cacheResults:!0});var n={};return function(r){if(!e.cacheResults)return xe(t,r,e);var o;if(!n[r]){for(var a=r.length-1;a>0;a-=1)if(o=r.substr(0,a),n[o]){n[r]=xe(n[o],r,e);break}}return n[r]||(n[r]=xe(t,r,e)),n[r]}};function xe(t,e,n){return Zr(t).reduce(function(r,o){var a=t[o],i;return ea(a)?(Be(e,o,n)||Be(e,a,n))&&(r[o]=a):Be(e,o,n)?r[o]=a:(i=xe(a,e,n),ta(i)||Object.assign(r,oa(o,i))),r},{})}function Be(t,e,n){if(e){var r=String(e),o=t;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function oa(t,e){var n={};return n[t]=e,n}var ra=dt,We=".";function Ze(t,e){var n=e.split(We),r=n.shift();if(!r)return t;var o=ra(t);if(o==="Array"&&t[Pt(r)])return Ze(t[Pt(r)],n.join(We));if(o==="Object"&&t[r])return Ze(t[r],n.join(We))}function Pt(t){return parseInt(t,10)}var aa=Ze,ia=u,sa=Te,ca=wr,le=ia.createElement,la=Gr,da=Qr,ua=na,pa=yn,ha=aa,fa=bn,ma=sa({getDefaultProps:function(){return{data:null,search:da,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:fa,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(t){return t.length>=2},isExpanded:function(t,e){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var t=this.props,e=this.state,n=e.query!==""&&t.validateQuery(e.query),r=n?e.filterer(e.query):t.data,o=n&&pa(r);return le("div",{className:"json-inspector "+t.className},this.renderToolbar(),o?le("div",{className:"json-inspector__not-found"},"Nothing found"):le(la,{data:r,onClick:t.onClick,id:t.id,getOriginal:this.getOriginal,query:n?new RegExp(e.query,t.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:t.isExpanded,interactiveLabel:t.interactiveLabel,verboseShowOriginal:t.verboseShowOriginal}))},renderToolbar:function(){var t=this.props.search;if(t)return le("div",{className:"json-inspector__toolbar"},le(t,{onChange:ca(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(t){this.setState({query:t})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(t){this.createFilterer(t.data,t.filterOptions);var e=typeof t.query=="string"&&t.query!==this.state.query;e&&this.setState({query:t.query})},shouldComponentUpdate:function(t,e){return t.query!==this.props.query||e.query!==this.state.query||t.data!==this.props.data||t.onClick!==this.props.onClick},createFilterer:function(t,e){this.setState({filterer:ua(t,e)})},getOriginal:function(t){return ha(this.props.data,t)}});const ga=Yt(ma);var va=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,n=Object.create(null),r=Object.create(null);function o(a,i){n[a]=i,e++,e>=t&&(e=0,r=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||r[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),r[a]!==void 0&&(r[a]=void 0)},get:function(a){var i=n[a];if(i!==void 0)return i;if((i=r[a])!==void 0)return o(a,i),i},set:function(a,i){n[a]!==void 0?n[a]=i:o(a,i)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const ba=Yt(va);var Et,It,St,wt,Ct,Dt,Ot,Rt,Mt,Tt,kt,jt,Nt,At;function V(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const ut=t=>{const{actions:e,children:n,actionProps:r,onActionComplete:o}=t;return s(tn,{onReset:o,hooks:e,args:r,children:n})},ya=t=>{const{badges:e,children:n,badgeProps:r,...o}=t;return s(tn,{...o,hooks:e,args:r,children:n})},_a=[];function xa(t){const{children:e,flatIndex:n,index:r,params:o,payload:a,siblingIndex:i}=t,{navigate:l,navigateIntent:c}=et(),d=tt(),f=u.useMemo(()=>(d==null?void 0:d.panes)||_a,[d==null?void 0:d.panes]),h=r-1,y=u.useCallback(b=>{const g=f[h]||[],E=g[i],m=b(g,E),p=[...f.slice(0,h),m,...f.slice(h+1)],v={...d||{},panes:p};return setTimeout(()=>l(v),0),v},[h,l,f,d,i]),x=u.useCallback(b=>{y((g,E)=>[...g.slice(0,i),{...E,payload:b},...g.slice(i+1)])},[y,i]),_=u.useCallback(b=>{y((g,E)=>[...g.slice(0,i),{...E,params:b},...g.slice(i+1)])},[y,i]),I=u.useCallback(b=>{let{id:g,parentRefPath:E,type:m,template:p}=b;l({panes:[...f.slice(0,h+1),[{id:g,params:{template:p.id,parentRefPath:co(E),type:m},payload:p.params}]]})},[h,l,f]),C=u.useMemo(()=>({index:n,groupIndex:h,siblingIndex:i,payload:a,params:o,hasGroupSiblings:f[h]?f[h].length>1:!1,groupLength:f[h]?f[h].length:0,routerPanesState:f,ChildLink:lo,BackLink:uo,ReferenceChildLink:po,handleEditReference:I,ParameterizedLink:ho,replaceCurrent:function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y(()=>[{id:b.id||"",payload:b.payload,params:b.params||{}}])},closeCurrent:()=>{y((b,g)=>b.length>1?b.filter(E=>E!==g):b)},duplicateCurrent:b=>{y((g,E)=>{const m={...E,payload:(b==null?void 0:b.payload)||E.payload,params:(b==null?void 0:b.params)||E.params};return[...g.slice(0,i),m,...g.slice(i)]})},setView:b=>{const g=nn(o,"view");return _(b?{...g,view:b}:g)},setParams:_,setPayload:x,navigateIntent:c}),[n,h,I,y,c,o,a,f,_,x,i]);return s(fo.Provider,{value:C,children:e})}function Pa(t,e,n,r){var o,a;const i={flex:t.left.flex+t.right.flex,width:t.left.width+t.right.width},l=(o=e.minWidth)!=null?o:Je,c=(a=n.minWidth)!=null?a:Je,d=Math.min(e.maxWidth||1/0,i.width-c),f=Math.min(n.maxWidth||1/0,i.width-l);let h=l-t.left.width;const y=t.right.width-f;h<y&&(h=y);let x=t.right.width-c;const _=d-t.left.width;x>_&&(x=_);const I=Math.min(Math.max(r,h),x),C=t.left.width+I,b=t.right.width-I,g=C/i.width*i.flex,E=b/i.width*i.flex;return{leftFlex:g,leftW:C,rightFlex:E,rightW:b}}function Ea(t,e){const n=[];let r=e;for(;r!==t;){const o=r.parentElement;if(!o)return n;const i=Array.from(o.childNodes).indexOf(r);if(n.unshift(i),o===t)return n;r=o}return n}const Lt=[];function Ia(t,e){const n=new WeakMap;for(const o of e)n.set(o,Ea(t,o));const r=(o,a)=>{const i=n.get(o)||Lt,l=n.get(a)||Lt,c=Math.max(i.length,l.length);for(let d=0;d<c;d+=1){const f=i[d]||-1,h=l[d]||-1;if(f!==h)return f-h}return 0};e.sort(r)}function Sa(){const t=[],e=[],n=new WeakMap,r=new Set,o={};let a=null,i=0,l=null,c=new Map,d=!1;function f(g){r.add(g),l===g&&(l=null),b()}function h(g){r.delete(g),l=g,b()}function y(g,E){return n.set(g,{...E,original:E}),e.push(g),a&&Ia(a,e),h(g),()=>{const m=e.indexOf(g);m>-1&&e.splice(m,1),n.delete(g),b()}}function x(g,E,m){var p,v,D,P;const S=e.indexOf(E),O=n.get(E);if(!O)return;const j=e[S+1],T=n.get(j);if(T){if(g==="start"&&(d=!0,o.left={element:E,flex:O.flex||1,width:E.offsetWidth},o.right={element:j,flex:T.flex||1,width:j.offsetWidth},b()),g==="move"&&o.left&&o.right){c=new Map;const{leftW:M,rightW:N,leftFlex:Z,rightFlex:se}=Pa(o,O,T,m);c.set(E,{flex:Z,width:M}),c.set(j,{flex:se,width:N}),b()}if(g==="end"){d=!1;const M=c.get(E),N=c.get(j);n.set(E,{...O,currentMinWidth:0,currentMaxWidth:(p=O.maxWidth)!=null?p:1/0,flex:(v=M==null?void 0:M.flex)!=null?v:O.flex}),n.set(j,{...T,currentMinWidth:0,currentMaxWidth:(D=O.maxWidth)!=null?D:1/0,flex:(P=N==null?void 0:N.flex)!=null?P:T.flex}),c=new Map,delete o.left,delete o.right,b()}}}function _(g){a=g}function I(g){i=g,b()}function C(g){return t.push(g),()=>{const E=t.push(g);E>-1&&t.splice(E,1)}}return{collapse:f,expand:h,mount:y,resize:x,setRootElement:_,setRootWidth:I,subscribe:C};function b(){var g,E,m,p;if(!i)return;const v=[];for(const M of e)M!==l&&v.unshift(M);l&&v.unshift(l);const D=new WeakMap,P=v.length,S=v[0],O=(P-1)*Fe;let j=i-O;for(const M of v){const N=n.get(M);if(!N)continue;const Z=N.currentMinWidth||N.minWidth||Je,se=M===S,Ne=r.has(M),fe=Z>j,me=se?!1:Ne||fe,ee=c.get(M);D.set(M,{element:M,collapsed:me,currentMinWidth:(g=ee==null?void 0:ee.width)!=null?g:N.currentMinWidth,currentMaxWidth:(E=ee==null?void 0:ee.width)!=null?E:N.currentMaxWidth,flex:(p=(m=ee==null?void 0:ee.flex)!=null?m:N.flex)!=null?p:1}),me?j-=Fe:j-=Z-Fe}const T=[];for(const M of e){const N=D.get(M);N&&T.push(N)}for(const M of t)M({expandedElement:l||e[e.length-1]||null,panes:T,resizing:d})}}function wa(t){const{children:e,minWidth:n,onCollapse:r,onExpand:o,...a}=t,i=u.useMemo(()=>Sa(),[]),[l,c]=u.useState(null),d=Re(l),f=(d==null?void 0:d.width)||0,h=f===void 0||!n?void 0:f<n,[y,x]=u.useState({expandedElement:null,panes:[],resizing:!1});u.useEffect(()=>i.setRootElement(l),[i,l]),u.useEffect(()=>i.setRootWidth(f),[i,f]),u.useEffect(()=>i.subscribe(x),[i]),u.useEffect(()=>{h!==void 0&&(h&&r&&r(),!h&&o&&o())},[h,r,o]);const _=u.useMemo(()=>({collapse:i.collapse,collapsed:h,expand:i.expand,expandedElement:y.expandedElement,mount:i.mount,panes:y.panes,resize:i.resize,resizing:y.resizing}),[h,i,y.expandedElement,y.panes,y.resizing]);return s(mo.Provider,{value:_,children:s(go,{"data-ui":"PaneLayout",...a,"data-collapsed":h?"":void 0,"data-resizing":y.resizing?"":void 0,"data-mounted":f?"":void 0,ref:c,children:e})})}function Ca(t){const{documentId:e,documentType:n,flex:r}=t,{collapsed:o}=ot(),{closeInspector:a,inspector:i}=H(),{features:l}=ae(),c=u.useCallback(()=>{i&&a(i.name)},[a,i]);if(o||!i)return null;const d=u.createElement(i.component,{onClose:c,documentId:e,documentType:n});return l.resizablePanes?s(Ro,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:Mo,minWidth:Ke,children:d}):s(R,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:d})}var Da=Object.defineProperty,Oa=(t,e,n)=>e in t?Da(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,He=(t,e,n)=>(Oa(t,typeof e!="symbol"?e+"":e,n),n);class re extends Error{constructor(e){let{message:n,context:r,helpId:o,cause:a}=e;super(n),He(this,"cause"),He(this,"context"),He(this,"helpId"),this.context=r,this.helpId=o,this.cause=a}}const Ft=new WeakMap;function je(t){const e=Ft.get(t);if(e)return e;const n=dr();return Ft.set(t,n),n}const zt=new WeakMap;function _n(t,e){const n=zt.get(t)||new Map;if(n){const a=n.get(e);if(a)return a}const r=t[e];if(typeof r!="function")throw new Error("Expected property `".concat(e,"` to be a function but got ").concat(typeof r," instead."));const o=r.bind(t);return n.set(e,o),zt.set(t,n),o}const Ra=t=>!!t&&typeof(t==null?void 0:t.then)=="function",Ma=t=>ue(t)?typeof t.serialize=="function":!1,Ta=t=>(e,n,r)=>{try{return t(e,n,r)}catch(o){throw o instanceof re?o:new re({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},ka=t=>function(){return t(...arguments).pipe(ur(1),pr())};function xn(t){const e=Ta(ka(t((n,r,o)=>{if(!n)throw new re({message:"Pane returned no child",context:r,helpId:"structure-item-returned-no-child"});return Ra(n)||rr(n)?ar(n).pipe(st(a=>e(a,r,o))):Ma(n)?e(n.serialize(r),r,o):typeof n=="function"?e(n(r.id,r),r,o):J(n)})));return e}async function ja(t){const e=new Map,r=xn(c=>(d,f,h)=>{const y=d&&"".concat(je(d),"-").concat(f.path.join("__")),x=y&&e.get(y);if(x)return x;const _=c(d,f,h);return y&&e.set(y,_),_}),o=[[{id:"__edit__".concat(t.params.id),params:{...nn(t.params,["id"]),type:t.params.type},payload:t.payload}]];async function a(c){let{currentId:d,flatIndex:f,intent:h,params:y,parent:x,path:_,payload:I,unresolvedPane:C,levelIndex:b,structureContext:g}=c;var E;if(!C)return[];const{id:m,type:p,...v}=y,P=await fn(r(C,{id:d,splitIndex:0,parent:x,path:_,index:f,params:{},payload:void 0,structureContext:g},f));return P.type==="document"&&P.id===m?[{panes:[..._.slice(0,_.length-1).map(S=>[{id:S}]),[{id:m,params:v,payload:I}]],depthIndex:_.length,levelIndex:b}]:(E=P.canHandleIntent)!=null&&E.call(P,h,y,{pane:P,index:f})||P.type==="documentList"&&P.schemaTypeName===p&&P.options.filter==="_type == $type"?[{panes:[..._.map(S=>[{id:S}]),[{id:y.id,params:v,payload:I}]],depthIndex:_.length,levelIndex:b}]:P.type==="list"&&P.child&&P.items?(await Promise.all(P.items.map((S,O)=>S.type==="divider"?Promise.resolve([]):a({currentId:S._id||S.id,flatIndex:f+1,intent:h,params:y,parent:P,path:[..._,S.id],payload:I,unresolvedPane:typeof P.child=="function"?_n(P,"child"):P.child,levelIndex:O,structureContext:g})))).flat():[]}const l=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:t.intent,params:t.params,parent:null,path:[],payload:t.payload,unresolvedPane:t.rootPaneNode,structureContext:t.structureContext})).sort((c,d)=>c.depthIndex===d.depthIndex?c.levelIndex-d.levelIndex:c.depthIndex-d.depthIndex)[0];return l?l.panes:o}const Na=(t,e)=>{const n=t.replace(/^__edit__/,""),{params:r,payload:o,structureContext:{resolveDocumentNode:a}}=e,{type:i,template:l}=r;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let c=a({schemaType:i,documentId:n});return c=c.id("editor").title("Editor"),l&&(c=c.initialValueTemplate(l,o)),c.serialize()};function Aa(t){var e,n;return"contextHash(".concat(JSON.stringify({id:t.id,parentId:parent&&je(parent),path:t.path,index:t.index,splitIndex:t.splitIndex,serializeOptionsIndex:(e=t.serializeOptions)==null?void 0:e.index,serializeOptionsPath:(n=t.serializeOptions)==null?void 0:n.path}),")")}const Bt=t=>{const e={type:t.type,id:t.routerPaneSibling.id,params:t.routerPaneSibling.params||{},payload:t.routerPaneSibling.payload||null,flatIndex:t.flatIndex,groupIndex:t.groupIndex,siblingIndex:t.siblingIndex,path:t.path,paneNode:t.type==="resolvedMeta"?je(t.paneNode):null};return"metaHash(".concat(JSON.stringify(e),")")};function Pe(t){let{unresolvedPane:e,flattenedRouterPanes:n,parent:r,path:o,resolvePane:a,structureContext:i}=t;const[l,...c]=n,d=c[0],f={id:l.routerPaneSibling.id,splitIndex:l.siblingIndex,parent:r,path:[...o,l.routerPaneSibling.id],index:l.flatIndex,params:l.routerPaneSibling.params||{},payload:l.routerPaneSibling.payload,structureContext:i};try{return a(e,f,l.flatIndex).pipe(st(h=>{const y={type:"resolvedMeta",...l,paneNode:h,path:f.path},x=c.map((I,C)=>({type:"loading",path:[...f.path,...c.slice(C).map((E,m)=>"[".concat(I.flatIndex+m,"]"))],paneNode:null,...I}));if(!c.length)return J([y]);let _;return d!=null&&d.routerPaneSibling.id.startsWith("__edit__")?_=Pe({unresolvedPane:Na,flattenedRouterPanes:c,parent:r,path:f.path,resolvePane:a,structureContext:i}):l.groupIndex===(d==null?void 0:d.groupIndex)?_=Pe({unresolvedPane:e,flattenedRouterPanes:c,parent:r,path:o,resolvePane:a,structureContext:i}):_=Pe({unresolvedPane:typeof h.child=="function"?_n(h,"child"):h.child,flattenedRouterPanes:c,parent:h,path:f.path,resolvePane:a,structureContext:i}),rn(J([y,...x]),_.pipe(X(I=>[y,...I])))}))}catch(h){if(h instanceof re&&(h.context&&console.warn("Pane resolution error at index ".concat(h.context.index).concat(h.context.splitIndex>0?" for split pane index ".concat(h.context.splitIndex):"",": ").concat(h.message).concat(h.helpId?" - see ".concat(ln(h.helpId)):""),h),h.helpId==="structure-item-returned-no-child"))return J([]);throw h}}function La(t){let{routerPanesStream:e,rootPaneNode:n,initialCacheState:r={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>ir},structureContext:o}=t;return e.pipe(X(i=>[[{id:"root"}],...i]),X(i=>i.flatMap((c,d)=>c.map((f,h)=>({routerPaneSibling:f,groupIndex:d,siblingIndex:h}))).map((c,d)=>({...c,flatIndex:d}))),To([]),hr(),X(i=>{let[l,c]=i;for(let d=0;d<c.length;d++){const f=l[d],h=c[d];if(!Ue(f,h))return{flattenedRouterPanes:c,diffIndex:d}}return{flattenedRouterPanes:c,diffIndex:c.length}}),mt((i,l)=>{const{cacheKeysByFlatIndex:c,resolvedPaneCache:d}=i,{flattenedRouterPanes:f,diffIndex:h}=l,y=c.slice(0,h+1),x=c.slice(h+1),_=new Set(y.flatMap(b=>Array.from(b))),I=x.flatMap(b=>Array.from(b)).filter(b=>!_.has(b));for(const b of I)d.delete(b);return{flattenedRouterPanes:f,cacheKeysByFlatIndex:c,resolvedPaneCache:d,resolvePane:xn(b=>(g,E,m)=>{const p=g&&"".concat(je(g),"-").concat(Aa(E)),v=p&&d.get(p);if(v)return v;const D=b(g,E,m);if(!p)return D;const P=c[m]||new Set;return P.add(p),c[m]=P,d.set(p,D),D})}},r),st(i=>{let{flattenedRouterPanes:l,resolvePane:c}=i;return Pe({unresolvedPane:n,flattenedRouterPanes:l,parent:null,path:[],resolvePane:c,structureContext:o})})).pipe(mt((i,l)=>l.map((c,d)=>{const f=i[d];return!f||c.type!=="loading"?c:f.routerPaneSibling.id===c.routerPaneSibling.id?f:c}),[]),ko((i,l)=>{if(i.length!==l.length)return!1;for(let c=0;c<l.length;c++){const d=i[c],f=l[c];if(Bt(d)!==Bt(f))return!1}return!0}))}function Fa(){const t=u.useMemo(()=>new jo(1),[]),e=u.useMemo(()=>t.asObservable().pipe(X(r=>(r==null?void 0:r.panes)||[])),[t]),{state:n}=et();return u.useEffect(()=>{t.next(n)},[n,t]),e}function za(){const[t,e]=u.useState();if(t)throw t;const{structureContext:n,rootPaneNode:r}=ae(),[o,a]=u.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=Fa();return u.useEffect(()=>{const c=La({rootPaneNode:r,routerPanesStream:i,structureContext:n}).pipe(X(d=>{const f=d.reduce((x,_)=>{const I=x[_.groupIndex]||[];return I[_.siblingIndex]=_.routerPaneSibling,x[_.groupIndex]=I,x},[]),h=f.length,y=d.map(x=>{var _;const{groupIndex:I,flatIndex:C,siblingIndex:b,routerPaneSibling:g,path:E}=x,m=g.id,p=f[I+1];return{active:I===h-2,childItemId:(_=p==null?void 0:p[0].id)!=null?_:null,index:C,itemId:g.id,groupIndex:I,key:"".concat(x.type==="loading"?"unknown":x.paneNode.id,"-").concat(m,"-").concat(b),pane:x.type==="loading"?$e:x.paneNode,params:g.params||{},path:E.join(";"),payload:g.payload,selected:C===d.length-1,siblingIndex:b}});return{paneDataItems:y,routerPanes:f,resolvedPanes:y.map(x=>x.pane)}})).subscribe({next:d=>a(d),error:d=>e(d)});return()=>c.unsubscribe()},[r,i,n]),o}async function Ba(t,e,n){if(e&&n)return{id:e,type:n};if(!e&&n)return{id:No(),type:n};if(e&&!n){const r=await fn(t.resolveTypeForDocument(e));return{id:e,type:r}}throw new re({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}const Wa={},Ha=u.memo(function(){const{navigate:e}=et(),n=tt(u.useCallback(c=>{const d=typeof c.intent=="string"?c.intent:void 0;return d?{intent:d,params:ue(c.params)?c.params:Wa,payload:c.payload}:void 0},[])),{rootPaneNode:r,structureContext:o}=ae(),a=$t(),[i,l]=u.useState(null);if(i)throw i;return u.useEffect(()=>{if(n){const{intent:c,params:d,payload:f}=n;let h=!1;async function y(){const{id:x,type:_}=await Ba(a,typeof d.id=="string"?d.id:void 0,typeof d.type=="string"?d.type:void 0);if(h)return;const I=await ja({intent:c,params:{...d,id:x,type:_},payload:f,rootPaneNode:r,structureContext:o});h||e({panes:I},{replace:!0})}return y().catch(l),()=>{h=!0}}},[a,n,e,r,o]),null}),Ua=U.span(Et||(Et=V([`
  &:not(:last-child)::after {
    content: ' ➝ ';
    opacity: 0.5;
  }
`])));function Va(t){return t.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function Ya(t){let{error:e}=t;if(!(e instanceof re))throw e;const{cause:n}=e,r=(n==null?void 0:n.stack)||e.stack,o=r&&!(n instanceof Le)&&!e.message.includes("Module build failed:"),a=n instanceof Le?n.path:[],i=n instanceof Le&&n.helpId||e.helpId,l=u.useCallback(()=>{window.location.reload()},[]);return s(Q,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:w(pe,{children:[s(Ao,{as:"h2",children:"Encountered an error while reading structure"}),w(Q,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&w(q,{space:2,children:[s(gt,{children:"Structure path"}),s(qe,{children:a.slice(1).map((c,d)=>s(Ua,{children:c},"".concat(c,"-").concat(d)))})]}),w(q,{marginTop:4,space:2,children:[s(gt,{children:"Error"}),s(qe,{children:o?Va(r):e.message})]}),i&&s(R,{marginTop:4,children:s(k,{children:s("a",{href:ln(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),s(R,{marginTop:4,children:s(Y,{text:"Reload",icon:qt,tone:"primary",onClick:l})})]})]})})}function $a(t){const{isSelected:e,pane:n,paneKey:r}=t,o=ue(n)&&n.type||null;return w(we,{id:r,selected:e,children:[s(rt,{title:"Unknown pane type"}),s(Ce,{children:s(R,{padding:4,children:typeof o=="string"?w(k,{as:"p",muted:!0,children:["Structure item of type ",s("code",{children:o})," is not a known entity."]}):w(k,{as:"p",muted:!0,children:["Structure item is missing required ",s("code",{children:"type"})," property."]})})})]})}function Ga(t){const e=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=J(null);return Lo(...e.map(r=>{let{ms:o,message:a}=r;return n.pipe(Fo(a),zo(o))}))}const Ka="Loading…",qa=U(A)(It||(It=V([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),de=u.memo(t=>{const{delay:e=300,flex:n,message:r=Ga,minWidth:o,paneKey:a,path:i,selected:l,title:c,tone:d}=t,f=u.useMemo(()=>typeof r=="function"?r(i?i.split(";"):[]):r,[r,i]),[h,y]=u.useState(()=>typeof f=="string"?f:Ka);u.useEffect(()=>{if(typeof f!="object"||typeof f.subscribe=="function")return;const g=f.subscribe(y);return()=>g.unsubscribe()},[f]);const[x,_]=u.useState(null),[I,C]=u.useState(!1);return u.useEffect(()=>{if(x)return kn(()=>C(!0))},[x]),s(we,{flex:n,id:a,minWidth:o,selected:l,tone:d,children:s(Ce,{children:w(qa,{align:"center","data-mounted":I?"":void 0,direction:"column",height:"fill",justify:"center",ref:_,children:[s(on,{muted:!0}),(c||h)&&s(R,{marginTop:3,children:s(k,{align:"center",muted:!0,size:1,children:c||h})})]})})})});de.displayName="LoadingPane";const Xa={component:u.lazy(()=>ge(()=>import("./index-09fce04c-56fc4eda.js"),["static/index-09fce04c-56fc4eda.js","static/sanity-2990d9bf.js"])),document:u.lazy(()=>ge(()=>import("./index-b976d996-192bbe0f.js"),["static/index-b976d996-192bbe0f.js","static/sanity-2990d9bf.js"])),documentList:u.lazy(()=>ge(()=>import("./index-3e777261-f190a84c.js"),["static/index-3e777261-f190a84c.js","static/sanity-2990d9bf.js","static/PaneItem-51d63fac-40932645.js"])),list:u.lazy(()=>ge(()=>import("./index-5af25cb2-2bf7075c.js"),["static/index-5af25cb2-2bf7075c.js","static/sanity-2990d9bf.js","static/PaneItem-51d63fac-40932645.js"]))},Ja=u.memo(function(e){const{active:n,childItemId:r,groupIndex:o,index:a,itemId:i,pane:l,paneKey:c,params:d,payload:f,path:h,selected:y,siblingIndex:x}=e,_=Xa[l.type]||$a;return s(xa,{flatIndex:a,index:o,params:d,payload:f,siblingIndex:x,children:s(u.Suspense,{fallback:s(de,{paneKey:c,path:h,selected:y}),children:s(_,{childItemId:r||"",index:a,itemId:i,isActive:n,isSelected:y,paneKey:c,pane:l})})})},(t,e)=>{let{params:n={},payload:r=null,...o}=t,{params:a={},payload:i=null,...l}=e;if(!Ue(n,a)||!Ue(r,i))return!1;const c=new Set([...Object.keys(o),...Object.keys(l)]);for(const d of c)if(o[d]!==l[d])return!1;return!0});function Pn(t){const{children:e,currentMinWidth:n,flex:r,minWidth:o,paneKey:a,title:i="Error",tone:l="critical"}=t;return w(we,{currentMinWidth:n,flex:r,id:a,minWidth:o,tone:l,children:[s(rt,{title:i}),s(Ce,{overflow:"auto",children:s(R,{paddingX:4,paddingY:5,children:e})})]})}function Qa(t){return t==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:t==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(t)}function Za(t){return t==="publish"?"The document was published":t==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":t==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":t==="delete"?"The document was successfully deleted":"Successfully performed ".concat(t," on document")}const ei=["patch","commit"],ti=u.memo(function(){const{push:e}=nt(),{documentId:n,documentType:r}=H(),o=jn(n,r),a=u.useRef(o);return u.useEffect(()=>{!o||o===a.current||(o.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:Qa(o.op),description:w("details",{children:[s("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!ei.includes(o.op)&&e({closable:!0,status:"success",title:Za(o.op)}),a.current=o)},[o,e]),null});function ni(t,e,n){const r=Nn(),[o,a]=u.useState(n),i=u.useMemo(()=>r.forNamespace("desk-tool"),[r]),l=u.useMemo(()=>t?i.forNamespace(t).forKey(e):i.forKey(e),[i,t,e]);u.useEffect(()=>{const d=l.listen(n).subscribe({next:a});return()=>d==null?void 0:d.unsubscribe()},[n,e,t,l]);const c=u.useCallback(d=>{a(d),l.set(d)},[l]);return u.useMemo(()=>[o,c],[c,o])}const te={id:"parsed",title:"Parsed"},ne={id:"raw",title:"Raw JSON"},oi=[te,ne],Se=ba(1e3);function En(t,e){const n=Se.get(t);return n===void 0?(Se.set(t,Array.isArray(e)||ue(e)),En(t,e)):n}function ri(t){const{path:e}=t,n=Se.get(e);n!==void 0&&Se.set(e,!n)}function In(t){const e=window.getSelection();if(e){const n=document.createRange();e.removeAllRanges(),n.selectNodeContents(t),e.addRange(n)}}function Wt(t){In(t.currentTarget)}function ai(t){t.keyCode===65&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),In(t.currentTarget))}function ii(t){return ue(t)&&vt(t._id)&&vt(t._type)}const si=U.div(t=>{let{theme:e}=t;const{color:n,fonts:r,space:o}=e.sanity;return Gt(St||(St=V([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ce(o[4]),ce(o[3]),ce(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ce(o[4]/2),n.syntax.property,n.syntax.constant,ce(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function ci(t){const{onChange:e,query:n}=t,r=u.useCallback(o=>e(o.target.value),[e]);return s(sr,{icon:cr,onChange:r,placeholder:"Search",radius:2,value:n||""})}function li(t){const{value:e}=t,{onInspectClose:n,paneKey:r}=H(),o="".concat(r,"_inspect_"),[a,i]=ni("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),l=oi.find(f=>f.id===a),c=u.useCallback(()=>{i(te.id)},[i]),d=u.useCallback(()=>{i(ne.id)},[i]);return s(ct,{id:"".concat(o,"dialog"),header:ii(e)?w(L,{children:["Inspecting"," ",s("em",{children:s(Bo,{document:e})})]}):s("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:w(A,{direction:"column",height:"fill",children:[s(Q,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:w(an,{space:1,children:[s(Ge,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(te.id),label:te.title,onClick:c,selected:l===te}),s(Ge,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(ne.id),label:ne.title,onClick:d,selected:l===ne})]})}),w(Wo,{"aria-labelledby":"".concat(o,"tab-").concat(a),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[l===te&&s(si,{children:s(ga,{data:e,isExpanded:En,onClick:ri,search:ci})}),l===ne&&s(qe,{language:"json",tabIndex:0,onKeyDown:ai,onDoubleClick:Wt,onFocus:Wt,children:JSON.stringify(e,null,2)})]})]})})}const di=U(Q)(wt||(wt=V([`
  position: relative;
  z-index: 50;
`]))),Ht=U(k)(Ct||(Ct=V([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),Sn=u.memo(()=>{var t,e,n,r,o,a;const i=An(),{params:l,groupIndex:c,routerPanesState:d,replaceCurrent:f,BackLink:h}=De(),y=(t=d[c])==null?void 0:t[0].id,x=d[c-1],_=x==null?void 0:x[0],I=_==null?void 0:_.id,C=!!((e=_==null?void 0:_.params)!=null&&e.rev),b=u.useMemo(()=>(l==null?void 0:l.parentRefPath)&&Ve(l.parentRefPath)||null,[l==null?void 0:l.parentRefPath]),g=Ln(()=>{const p=b==null?void 0:b[0];if(!I||!p||!b)return J({loading:!1});const v=vo(I),D=Ve(p),P=D.findIndex(S=>typeof S=="object"&&"_key"in S);return rn(J({loading:!0}),i.unstable_observePathsDocumentPair(v,P===-1?D:D.slice(0,P)).pipe(bo(750),X(S=>{let{draft:O,published:j}=S;var T;return{loading:!1,result:{availability:{draft:O.availability,published:j.availability},refValue:(T=yo(O.snapshot||j.snapshot,b))==null?void 0:T._ref}}})))},[i,I,b],{loading:!0}),E=u.useCallback(()=>{var p;g.loading||(p=g.result)!=null&&p.refValue&&f({id:g.result.refValue,params:l})},[g.loading,g.result,f,l]);return!I||!b||C||g.loading||!((n=g.result)!=null&&n.availability.draft.available)&&!((r=g.result)!=null&&r.availability.published.available)||((o=g.result)==null?void 0:o.refValue)===y?null:s(di,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:s(pe,{paddingX:4,paddingY:2,sizing:"border",width:1,children:w(A,{align:"center",children:[s(k,{size:1,children:s(Kt,{})}),(a=g.result)!=null&&a.refValue?w(L,{children:[s(R,{flex:1,marginLeft:3,children:s(Ht,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),s(R,{marginLeft:3,children:s(Y,{onClick:E,icon:qt,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):w(L,{children:[s(R,{flex:1,marginLeft:3,children:s(Ht,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),s(R,{marginLeft:3,children:s(Y,{as:h,icon:Ye,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});Sn.displayName="ReferenceChangedBanner";const ui=U(Q)(Dt||(Dt=V([`
  position: relative;
  z-index: 50;
`])));function pi(t){let{granted:e,requiredPermission:n}=t;var r,o;const a=Ho(),i=((r=a==null?void 0:a.roles)==null?void 0:r.length)!==1,l=hi(((o=a==null?void 0:a.roles)==null?void 0:o.map(c=>s("code",{children:c.title},c.name)))||[],", ");return e?null:s(ui,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:s(pe,{paddingX:4,paddingY:3,sizing:"border",width:1,children:w(A,{align:"flex-start",children:[s(k,{size:1,children:s(Uo,{})}),s(R,{flex:1,marginLeft:3,children:w(k,{size:1,children:["Your role",i&&"s"," ",l," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function hi(t,e){return t.reduce((n,r)=>n===null?[r]:n.concat([e,r]),null)}function fi(t){const e=u.useRef();return u.useEffect(()=>{e.current=t},[t]),e.current}const mi=1e3*60*60*24*24;function gi(t){const e=nt(),n=fi(t.enabled);u.useEffect(()=>{!n&&t.enabled&&e.push({...t,duration:mi}),n&&!t.enabled&&e.push({...t,duration:.01})},[t,e,n])}const vi=t=>t.preventDefault();function bi(t){var e;const{hidden:n,margins:r}=t,{collapsedFieldSets:o,collapsedPaths:a,displayed:i,editState:l,documentId:c,documentType:d,fieldActions:f,onChange:h,validation:y,ready:x,formState:_,onFocus:I,onBlur:C,onSetCollapsedPath:b,onPathOpen:g,onSetCollapsedFieldSet:E,onSetActiveFieldGroup:m}=H(),p=$t(),v=Vo(c),D=u.useMemo(()=>Yo(),[]),P=(e=l==null?void 0:l.transactionSyncLock)==null?void 0:e.enabled;gi({id:"sync-lock-".concat(c),status:"warning",enabled:P,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),u.useEffect(()=>{const j=p.pair.documentEvents(c,d).pipe($o(T=>{T.type==="mutation"&&D.publish(yi(T)),T.type==="rebase"&&D.publish(_i(T))})).subscribe();return()=>{j.unsubscribe()}},[c,p,d,D]);const S=!!(i!=null&&i._rev);u.useEffect(()=>{S&&D.publish({type:"mutation",patches:[],snapshot:i})},[S]);const O=u.useRef(null);return u.useEffect(()=>{x&&!(_!=null&&_.focusPath.length)&&Go(O.current)},[x]),s(pe,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:s(Ko,{margins:r,children:s(R,{as:"form",onSubmit:vi,ref:O,children:x?_===null?s(R,{padding:2,children:s(k,{children:"This form is hidden"})}):s(qo,{__internal_fieldActions:f,__internal_patchChannel:D,collapsedFieldSets:o,collapsedPaths:a,focusPath:_.focusPath,changed:_.changed,focused:_.focused,groups:_.groups,id:"root",members:_.members,onChange:h,onFieldGroupSelect:m,onPathBlur:C,onPathFocus:I,onPathOpen:g,onSetFieldSetCollapsed:E,onSetPathCollapsed:b,presence:v,readOnly:_.readOnly,schemaType:_.schemaType,validation:y,value:_.value}):s(Xo,{ms:300,children:w(A,{align:"center",direction:"column",height:"fill",justify:"center",children:[s(on,{muted:!0}),s(R,{marginTop:3,children:s(k,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})}function yi(t){const e=t.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:t.document,patches:Xe(t.origin,e)}}function _i(t){const e=t.remoteMutations.map(r=>r.patch).filter(Boolean),n=t.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:t.document,patches:Xe("remote",e).concat(Xe("local",n))}}function xi(){const{activeViewId:t,paneKey:e,views:n}=H(),r="".concat(e,"tabpanel");return s(an,{space:1,children:n.map((o,a)=>{var i;return s(Pi,{icon:o.icon,id:"".concat(e,"tab-").concat(o.id),isActive:t===o.id,label:s(L,{children:o.title}),tabPanelId:r,viewId:a===0?null:(i=o.id)!=null?i:null},o.id)})})}function Pi(t){const{isActive:e,tabPanelId:n,viewId:r}=t,{ready:o}=H(),{setView:a}=De(),i=u.useCallback(()=>a(r),[a,r]);return s(Ge,{...t,"aria-controls":n,disabled:!o,fontSize:1,selected:e,onClick:i})}function Ei(){const{connectionState:t,schemaType:e,title:n,value:r}=H(),o=!!r&&t==="connected",{error:a,value:i}=_o({enabled:o,schemaType:e,value:r});return t!=="connected"?s(L,{}):n?s(L,{children:n}):r?a?w(L,{children:["Error: ",a.message]}):s(L,{children:(i==null?void 0:i.title)||s("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):w(L,{children:["New ",(e==null?void 0:e.title)||(e==null?void 0:e.name)]})}const Ii=u.memo(u.forwardRef(function(e,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:a,menuItems:i,menuItemGroups:l,schemaType:c,timelineStore:d,ready:f,views:h,unstable_languageFilter:y}=H(),{features:x}=ae(),{index:_,BackLink:I,hasGroupSiblings:C}=De(),{actions:b}=Fn(),g=u.useMemo(()=>zn({actionHandler:r,fieldActions:b,menuItems:i,menuItemGroups:l}),[r,b,l,i]),E=u.useMemo(()=>g.filter(Bn),[g]),m=u.useMemo(()=>g.filter(Wn),[g]),p=h.length>1,v=Oe(d,M=>M.revTime),{collapsed:D,isLast:P}=ot(),S=P&&!D?-1:0,O=x.splitViews&&a&&h.length>1,j=O&&C,T=!j&&!x.backButton;return s(rt,{ref:n,loading:!f,title:s(Ei,{}),tabs:p&&s(xi,{}),tabIndex:S,backButton:x.backButton&&_>0&&s(Y,{as:I,"data-as":"a",icon:Hn,mode:"bleed",padding:2}),subActions:s(Un,{chunk:v,mode:"rev",placement:"bottom-end"}),actions:w(A,{align:"center",gap:1,children:[y.length>0&&s(L,{children:y.map((M,N)=>u.createElement(M,{key:"language-filter-".concat(N),schemaType:c}))}),E.map(M=>s(Vn,{node:M},M.key)),s(Yn,{nodes:m},"context-menu"),O&&s(ie,{content:s(k,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:s(Y,{"aria-label":"Split pane right",icon:$n,mode:"bleed",onClick:a},"split-pane-button")}),j&&s(Y,{icon:Ye,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),T&&s(Y,{icon:Ye,mode:"bleed",title:"Close pane group",as:I},"close-view-button")]})})})),Si=U(R)({position:"relative"}),wi=U(Gn)(t=>{let{$disabled:e}=t;return e?{height:"100%"}:Gt(Ot||(Ot=V([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),Ci=function(e){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:a}=e,{activeViewId:i,displayed:l,documentId:c,editState:d,inspector:f,value:h,views:y,ready:x,schemaType:_,permissions:I,isPermissionsLoading:C}=H(),{collapsed:b}=Qt(),{collapsed:g}=ot(),E=sn(),{features:m}=ae(),[p,v]=u.useState(null),D=Re(p),P=u.useRef(null),[S,O]=u.useState(null),j=h._createdAt?"update":"create",T=u.useMemo(()=>y.find(me=>me.id===i)||y[0]||{type:"form"},[i,y]),M=m.splitPanes&&P.current||E.element,N=u.useMemo(()=>b?[(D==null?void 0:D.height)||0,0,n?n+2:2,0]:[0,0,2,0],[b,n,D]),Z=T.type!=="form",se=u.useMemo(()=>T.type==="component"&&T.component&&u.createElement(T.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:l||h,historical:l,published:(d==null?void 0:d.published)||null},documentId:c,options:T.options,schemaType:_}),[T,l,c,d==null?void 0:d.draft,d==null?void 0:d.published,_,h]);u.useEffect(()=>{S!=null&&S.scrollTo&&S.scrollTo(0,0)},[c,S]),u.useEffect(()=>{M&&a(M)},[M,a]);const Ne=u.useMemo(()=>r?s(li,{value:l||h}):null,[r,l,h]),fe=!!(!g&&f);return w(L,{children:[s(Ii,{ref:v}),s(Ce,{children:w(A,{height:"fill",children:[(m.resizablePanes||!fe)&&s(Si,{flex:2,overflow:"hidden",children:s(Me,{element:M,__unstable_elements:{documentScrollElement:S},children:s(ft,{element:S,children:w(xo,{scrollElement:S,children:[T.type==="form"&&!C&&x&&w(L,{children:[s(pi,{granted:!!(I!=null&&I.granted),requiredPermission:j}),s(Sn,{})]}),w(wi,{$disabled:b||!1,"data-testid":"document-panel-scroller",ref:O,children:[s(bi,{hidden:Z,margins:N},c+(x?"_ready":"_pending")),se]}),Ne,s("div",{"data-testid":"document-panel-portal",ref:P})]})})})}),fe&&s(ft,{element:o,children:s(Ca,{documentId:c,documentType:_.name,flex:1})})]})})]})},wn=["left","bottom"],Di={small:0,medium:1,large:2,full:"auto"};function Oi(t){const{dialog:e,referenceElement:n}=t;return s(dn,{content:s(Ri,{dialog:e}),fallbackPlacements:wn,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Ri(t){const{dialog:e}=t,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:a,message:i,onCancel:l,onConfirm:c,tone:d}=e,{isTopLayer:f}=un(),[h,y]=u.useState(null),x=u.useCallback(()=>{f&&l()},[f,l]),_=u.useCallback(I=>{I.key==="Escape"&&f&&l()},[f,l]);return pn(x,[h]),hn(_),w(A,{direction:"column",ref:y,style:{minWidth:320-16,maxWidth:400},children:[s(R,{flex:1,overflow:"auto",padding:4,children:s(k,{children:i})}),s(R,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:w(lr,{columns:2,gap:2,children:[s(Y,{icon:n,onClick:l,mode:"ghost",text:r||"Cancel"}),s(Y,{icon:o,onClick:c,text:a||"Confirm",tone:d})]})})]})}function Mi(t){const{dialog:e}=t,n=u.useId(),r=e.footer&&s(R,{paddingX:4,paddingY:3,children:e.footer});return s(it,{zOffset:"fullscreen",children:s(ct,{__unstable_hideCloseButton:e.showCloseButton===!1,footer:r,header:e.header,id:n,onClose:e.onClose,onClickOutside:e.onClose,width:e.width===void 0?1:Di[e.width],children:s(R,{padding:4,children:e.content})})})}function Ti(t){const{dialog:e,referenceElement:n}=t;return s(dn,{content:s(ki,{dialog:e}),fallbackPlacements:wn,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function ki(t){const{dialog:e}=t,{content:n,onClose:r}=e,{isTopLayer:o}=un(),[a,i]=u.useState(null),l=u.useCallback(()=>{o&&r()},[o,r]),c=u.useCallback(d=>{d.key==="Escape"&&o&&r()},[o,r]);return pn(l,[a]),hn(c),s("div",{ref:i,children:n})}function Ut(t){const{children:e}=t,{element:n,elements:r}=sn(),o=(r==null?void 0:r[Zt])||n;return s(Me,{element:o,children:e})}function pt(t){const{dialog:e,referenceElement:n=null}=t,r=u.useId();if(e.type==="confirm")return s(Oi,{dialog:e,referenceElement:n});if(e.type==="popover")return s(Ti,{dialog:e,referenceElement:n});if(e.type==="dialog"||!e.type)return s(Ut,{children:s(Mi,{dialog:e})});if(e.type==="custom")return s(Ut,{children:e==null?void 0:e.component});const o=e;return console.warn("Unsupported modal type ".concat(o.type)),s(ct,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:s(R,{padding:4,children:o.content||w(L,{children:["Unexpected modal type (",s("code",{children:o.type}),")"]})})})}function ji(t){const{actionStates:e,disabled:n}=t,r=u.useId(),o=u.useRef(null),[a,i]=u.useState(-1),[l,c]=u.useState(null),d=u.useCallback(y=>{i(y)},[]),f=u.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),h=e[a];return w(L,{children:[s(Jo,{id:"".concat(r,"-action-menu"),button:s(Y,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:Qo,mode:"ghost",ref:o}),menu:s(Zo,{padding:1,children:e.map((y,x)=>s(Ni,{actionState:y,disabled:n,index:x,onAction:d},x))}),popover:f,ref:c}),h&&h.dialog&&s(it,{zOffset:"paneFooter",children:s(pt,{dialog:h.dialog,referenceElement:l})})]})}function Ni(t){const{actionState:e,disabled:n,index:r,onAction:o}=t,{onHandle:a}=e,i=u.useCallback(()=>{o(r),a&&a()},[r,o,a]),l=e.title&&s(R,{padding:2,children:s(k,{size:1,children:e.title})});return s(er,{"data-testid":"action-".concat(e.label.replace(" ","")),disabled:n||!!e.disabled,onClick:i,padding:0,tone:e.tone,children:s(ie,{content:l,disabled:!l,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:w(A,{align:"center",paddingX:3,children:[w(A,{flex:1,paddingY:3,children:[e.icon&&s(R,{marginRight:3,children:w(k,{children:[u.isValidElement(e.icon)&&e.icon,tr.isValidElementType(e.icon)&&u.createElement(e.icon)]})}),s(k,{children:e.label})]}),e.shortcut&&s(R,{marginLeft:3,children:s(cn,{keys:String(e.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function Cn(t){const{disabled:e,showMenu:n,states:r}=t,[o,...a]=r,[i,l]=u.useState(null),c=u.useMemo(()=>!o||!o.title&&!o.shortcut?null:w(A,{padding:2,style:{maxWidth:300},align:"center",children:[s(k,{size:1,children:o.title}),o.shortcut&&s(R,{marginLeft:o.title?2:0,children:s(cn,{keys:String(o.shortcut).split("+").map(d=>d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase())})})]}),[o]);return w(A,{children:[o&&s(Po,{zOffset:200,children:s(ie,{disabled:!c,content:c,portal:!0,placement:"top",children:s(q,{flex:1,children:s(Y,{"data-testid":"action-".concat(o.label),disabled:e||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:l,text:o.label,tone:o.tone||"primary"})})})}),n&&a.length>0&&s(R,{marginLeft:1,children:s(ji,{actionStates:a,disabled:e})}),o&&o.dialog&&s(pt,{dialog:o.dialog,referenceElement:i})]})}const Ai=u.memo(function(){const{actions:e,connectionState:n,documentId:r,editState:o}=H();return!e||!o?null:s(ut,{actions:e,actionProps:o,children:a=>{let{states:i}=a;return s(Cn,{disabled:n!=="connected",showMenu:e.length>1,states:i},r)}})}),Li=u.memo(function(){const{connectionState:e,editState:n,timelineStore:r}=H(),o=Oe(r,d=>d.revTime),a=(o==null?void 0:o.id)||"",i=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===a,l=u.useMemo(()=>({...n||{},revision:a}),[n,a]),c=u.useMemo(()=>[Kn],[]);return s(ut,{actions:c,actionProps:l,children:d=>{let{states:f}=d;return s(Cn,{disabled:e!=="connected"||!!i,showMenu:!1,states:f})}})}),Fi={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function zi(t){let{states:e}=t;return s(nr,{space:1,children:e.map((n,r)=>s(ie,{content:n.title&&s(R,{padding:2,children:s(k,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:s(or,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?Fi[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function Bi(){const{badges:t,editState:e}=H();return!e||!t?null:s(ya,{badges:t,badgeProps:e,children:n=>{let{states:r}=n;return s(zi,{states:r})}})}const Wi=U(A)(Rt||(Rt=V([`
  cursor: default;
`])));function Hi(t){const{collapsed:e,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:a}=t,i=oe(r||"",{minimal:!0,agoSuffix:!0}),l=oe(r||"",{minimal:!0}),c=oe(o||"",{minimal:!0,agoSuffix:!0}),d=oe(o||"",{minimal:!0});return s(Wi,{align:"center","data-ui":"SessionLayout",sizing:"border",children:s(ie,{placement:"top",portal:!0,content:s(q,{padding:3,space:3,children:s(k,{size:1,muted:!0,children:a?w(L,{children:["Last updated ",o?c:i]}):w(L,{children:["Last published ",i]})})}),children:s(Y,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,children:w(A,{align:"center",children:[s(R,{marginRight:e?0:3,children:s(k,{size:2,children:a?s(Eo,{}):s(Io,{})})}),!e&&s(k,{size:1,weight:"medium",children:a?s(L,{children:o?d:l}):l})]})})})})}const Ui=U(he.path)(Mt||(Mt=V([`
  transform-origin: center;
`]))),Vi=t=>s(he.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...t}),Yi=t=>s(Ui,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...t}),$i=t=>s(he.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...t}),Gi=t=>s(he.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...t}),Ki=qn(Tt||(Tt=V([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),qi=U.g(kt||(kt=V([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),Ki),Xi={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},Ji={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Qi={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Zi={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},es={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function ts(t){const{status:e}=t;return e?s("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:w(he.g,{variants:Xi,initial:e,animate:e,children:[w(qi,{"data-rotate":e==="changes"?void 0:"",children:[s(Yi,{variants:Qi,initial:e,animate:e}),s(Vi,{variants:Ji,initial:e,animate:e})]}),s($i,{variants:Zi,initial:e,animate:e}),s(Gi,{variants:es,initial:e,animate:e})]})}):null}const ns=at.forwardRef(function(e,n){const{collapsed:r,status:o,lastUpdated:a,...i}=e,l=oe(a||"",{minimal:!0}),c=oe(a||"",{minimal:!0,agoSuffix:!0}),d=u.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:l,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,l]);return o?s(ie,{placement:"top",portal:!0,disabled:o!=="changes",content:w(q,{padding:3,space:3,children:[s(k,{size:1,weight:"semibold",children:"Review changes"}),w(k,{size:1,muted:!0,children:["Changes saved ",c]})]}),children:s(Y,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...i,"data-testid":"review-changes-button",ref:n,children:w(A,{align:"center",children:[s(R,{marginRight:r?0:3,children:s(k,{children:s(ts,{status:o})})}),!r&&s(k,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),os=at.memo(ns),rs=1e3,as=3e3,is=u.memo(function(){var e;const{changesOpen:n,documentId:r,documentType:o,editState:a,onHistoryClose:i,onHistoryOpen:l,timelineStore:c,value:d}=H(),f=Xn(r,o),h=d==null?void 0:d._updatedAt,y=(e=a==null?void 0:a.published)==null?void 0:e._updatedAt,x=!!(a!=null&&a.liveEdit),_=!!(a!=null&&a.published),I=!!(a!=null&&a.draft),[C,b]=u.useState(null),g=Re(C),E=!g||(g==null?void 0:g.width)<300,[m,p]=u.useState(null),v=Oe(c,S=>S.onOlderRevision);u.useEffect(()=>{if(m==="syncing"&&!f.isSyncing){const S=setTimeout(()=>p("saved"),rs);return()=>clearTimeout(S)}if(m==="saved"){const S=setTimeout(()=>p(null),as);return()=>clearTimeout(S)}},[m,h,f.isSyncing]),u.useLayoutEffect(()=>{p(null)},[r]),u.useLayoutEffect(()=>{f.isSyncing&&p("syncing")},[f.isSyncing,h]);const D=u.useMemo(()=>s(os,{lastUpdated:h,status:m||(I?"changes":void 0),onClick:n?i:l,disabled:v,selected:n,collapsed:E}),[I,n,i,l,h,v,m,E]),P=u.useMemo(()=>(x||_)&&s(R,{marginRight:1,children:s(Hi,{disabled:v,lastPublished:y,lastUpdated:h,liveEdit:x,collapsed:E})}),[E,y,h,x,_,v]);return w(A,{align:"center","data-ui":"DocumentSparkline",ref:b,children:[P,w(A,{align:"center",flex:1,children:[D,!E&&s(R,{marginLeft:3,children:s(Bi,{})})]})]})}),ss=U(R)(jt||(jt=V([`
  min-width: 10em;
  max-width: 16em;
`])));function cs(t){const{actionsBoxRef:e}=t,{badges:n,timelineStore:r}=H(),o=Oe(r,a=>a.onOlderRevision);return u.useMemo(()=>s(R,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:w(A,{align:"center",children:[s(R,{flex:[1,2],children:n&&s(is,{})}),s(ss,{flex:1,marginLeft:[1,3],ref:e,children:o?s(Li,{}):s(Ai,{})})]})}),[e,n,o])}function ls(t){const{actionsBoxElement:e,activeIndex:n,as:r="div",children:o,id:a,onActionStart:i,onKeyDown:l,rootRef:c,states:d,...f}=t,h=d[n],y=u.useCallback(x=>{const _=d.filter(C=>C.shortcut&&en(C.shortcut,x)),I=_[0];if(_.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(I.shortcut,'"')),I&&!I.disabled&&I.onHandle){x.preventDefault(),I.onHandle(),i(d.indexOf(I));return}l&&l(x)},[i,l,d]);return u.createElement(r,{id:a,onKeyDown:y,tabIndex:-1,...f,ref:c},[o,h&&h.dialog&&s(it,{zOffset:"paneFooter",children:s(pt,{dialog:h.dialog,referenceElement:e})})])}const Dn=at.memo(t=>{const{actionsBoxElement:e,as:n="div",children:r,...o}=t,{actions:a,editState:i}=H(),[l,c]=u.useState(-1),d=u.useCallback(h=>{c(h)},[]),f=u.useMemo(()=>i&&{...i,onComplete:()=>{},revision:void 0},[i]);return!f||!a?null:s(ut,{actionProps:f,actions:a,children:h=>{let{states:y}=h;return s(ls,{...o,activeIndex:l,actionsBoxElement:e,as:n,onActionStart:d,states:y,children:r})}})});Dn.displayName="DocumentActionShortcuts";const Vt=["fixed","absolute"],ds=U(Jn)(Nt||(Nt=V([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),xs=u.memo(function(e){const{name:n}=Xt();return s(Jt,{name:e.pane.source||n,children:s(us,{...e})})});function us(t){var e;const{pane:n,paneKey:r}=t,{resolveNewDocumentOptions:o}=Xt().document,a=De(),i=ps(n.options,a.params),{documentType:l,isLoaded:c}=Qn(i.id,i.type),d=u.useMemo(()=>o({type:"global"}),[o]),[f,h]=Zn({templateItems:d}),y=c&&!h,x=u.useMemo(()=>y&&l&&i.type!==l?hs(t,i,l):t,[t,l,y,i]),{ReferenceChildLink:_,handleEditReference:I,groupIndex:C,routerPanesState:b}=a,g=((e=b[C+1])==null?void 0:e[0].params)||{},E=b.length,{parentRefPath:m}=g,p=u.useMemo(()=>m?{path:Ve(m),state:C>=E-1?"none":C>=E-2?"selected":"pressed"}:{path:[],state:"none"},[m,C,E]);return i.type==="*"&&!y?s(de,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):l?s(eo,{...x,children:s(to,{EditReferenceLinkComponent:_,onEditReference:I,initialValueTemplateItems:f,activePath:p,children:s(fs,{})})},"".concat(l,"-").concat(i.id)):s(Pn,{flex:2.5,minWidth:320,paneKey:r,title:s(L,{children:"The document was not found"}),children:s(q,{space:4,children:w(k,{as:"p",children:["The document type is not defined, and a document with the ",s("code",{children:i.id})," ","identifier could not be found."]})})})}function ps(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=no();return u.useMemo(()=>{if(t.type&&t.type!=="*")return t;const r=t.template||e.template,o=r?n.find(i=>i.id===r):void 0,a=o==null?void 0:o.schemaType;return a?{...t,type:a}:t},[t,e.template,n])}function hs(t,e,n){return{...t,pane:{...t.pane,options:{...e,type:n}}}}function fs(){const{changesOpen:t,documentType:e,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:a,onHistoryOpen:i,onKeyUp:l,paneKey:c,schemaType:d,value:f}=H(),{collapsed:h}=Qt(),y=oo(),[x,_]=u.useState(null),[I,C]=u.useState(null),[b,g]=u.useState(null),[E,m]=u.useState(null),p=Re(I),v=p==null?void 0:p.height,D=u.useCallback(O=>{a(O),o(O)},[a,o]),P=So+(n?Ke:0),S=wo+(n?Ke:0);return d?w(Dn,{actionsBoxElement:b,as:we,currentMinWidth:P,"data-testid":"document-pane",flex:2.5,id:c,minWidth:S,onKeyUp:l,rootRef:_,children:[s(ht,{position:Vt,zOffset:y.portal,children:s(A,{direction:"column",flex:1,height:h?void 0:"fill",children:s(ds,{"data-testid":"change-connector-root",isReviewChangesOpen:t,onOpenReviewChanges:i,onSetFocus:D,children:s(Ci,{footerHeight:v||null,isInspectOpen:r,rootElement:x,setDocumentPanelPortalElement:m})})})}),s(Me,{__unstable_elements:{[Zt]:E},children:s(ht,{position:Vt,zOffset:y.portal,children:s(ao,{ref:C,children:s(cs,{actionsBoxRef:g})})})}),s(ti,{})]}):s(Pn,{currentMinWidth:P,flex:2.5,minWidth:S,paneKey:c,title:w(L,{children:["Unknown document type: ",s("code",{children:e})]}),tone:"caution",children:w(q,{space:4,children:[e&&w(k,{as:"p",children:["This document has the schema type ",s("code",{children:e}),", which is not defined as a type in the local content studio schema."]}),!e&&s(k,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),ro]})})}function ms(){return s(Q,{height:"fill",children:s(A,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:s(pe,{width:0,children:s(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:w(A,{children:[s(R,{children:s(k,{size:1,children:s(Kt,{})})}),w(q,{flex:1,marginLeft:3,space:3,children:[s(k,{as:"h1",size:1,weight:"bold",children:"No document types"}),s(k,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),s(k,{as:"p",muted:!0,size:1,children:s("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}const gs=U(wa)(At||(At=V([`
  min-height: 100%;
  min-width: 320px;
`]))),vs=en("mod+s"),bs=u.memo(function(e){let{onPaneChange:n}=e;var r;const{push:o}=nt(),a=io(),{layoutCollapsed:i,setLayoutCollapsed:l}=ae(),{paneDataItems:c,resolvedPanes:d}=za(),f=tt(u.useCallback(C=>typeof C.intent=="string",[])),[h,y]=u.useState(null),x=u.useCallback(()=>l(!0),[l]),_=u.useCallback(()=>l(!1),[l]);return u.useEffect(()=>{d.length&&n(d)},[n,d]),u.useEffect(()=>{const C=b=>{vs(b)&&(b.preventDefault(),o({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[o]),((r=a._original)==null?void 0:r.types.some(so))?w(Me,{element:h||null,children:[w(gs,{flex:1,height:i?void 0:"fill",minWidth:512,onCollapse:x,onExpand:_,children:[c.map(C=>{let{active:b,childItemId:g,groupIndex:E,itemId:m,key:p,pane:v,index:D,params:P,path:S,payload:O,siblingIndex:j,selected:T}=C;return s(u.Fragment,{children:v===$e?s(de,{paneKey:p,path:S,selected:T}):s(Ja,{active:b,groupIndex:E,index:D,pane:v,childItemId:g,itemId:m,paneKey:p,params:P,payload:O,path:S,selected:T,siblingIndex:j})},"".concat(v===$e?"loading":v.type,"-").concat(D))}),c.length<=1&&f&&s(de,{paneKey:"intent-resolver"})]}),s("div",{"data-portal":"",ref:y})]}):s(ms,{})});function ys(t){let{tool:{options:e}}=t;const{unstable_sources:n}=Co(),[r]=n,{source:o,defaultDocumentNode:a,structure:i}=e||{};u.useEffect(()=>(Ae([]),()=>Ae([])),[]);const[{error:l},c]=u.useState({error:null});return l?s(Ya,{error:l}):s(Do,{onCatch:c,children:s(Jt,{name:o||r.name,children:w(Oo,{defaultDocumentNode:a,structure:i,children:[s(bs,{onPaneChange:Ae}),s(Ha,{})]})})})}var Ps=Object.freeze({__proto__:null,default:ys});export{xs as DocumentPane,Ps as index,ni as useDeskToolSetting};
